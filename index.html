<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>칠빵대리운전</title>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/index.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- jQuery 라이브러리 - 헤드에 추가 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- jQuery Easing 플러그인 - 헤드에 추가 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
  </head>
  <body>
    <header>
      <ul class="head">
        <li>
          <h1>
            <a href="index.html"
              ><img src="img/logo_color.png" alt="칠빵대리운전 로고"
            /></a>
          </h1>
        </li>
        <li>
          <ul class="subMenu">
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="notice.html">Notice</a></li>
            <li><a href="service.html">Customer Service</a></li>
          </ul>
        </li>
        <li><h2>7777-0000</h2></li>
        <li><i class="fa-solid fa-bars"></i></li>
      </ul>
    </header>
    <div id="visual">
      <ul>
        <li>
          <h2>안전한 귀가,<br />책임지는 대리운전</h2>
          <h5>Responsible for safe return with Chilppang chauffeur service</h5>
        </li>
        <li><img src="img/con1_phone.png" alt="전화 아이콘" /></li>
      </ul>
    </div>
    <div id="container">
      <section class="con1">
        <h2>한잔의 여유,<br />칠빵대리운전에서<br />편안함을 누리세요.</h2>
      </section>
      <section class="con2">
        <h2>고객과 기사</h2>
        <p class="con2P">
          고객과 기사 둘 다를 위한 칠빵대리운전에서 특별한 혜택을 경험하세요.
        </p>
        <ul>
          <li>
            <h3>01</h3>
            <h4>저렴한 수수료</h4>
            <p>
              타 어플 평균 수수료 30% 대비 칠빵대리운전 수수료 14%로 타 어플보다
              절반의 수수료로 수익에 대한 이익을 극대화
            </p>
            <i class="fa-solid fa-comments-dollar"></i>
          </li>
          <li>
            <h3>02</h3>
            <h4>역경매 시스템</h4>
            <p>
              국내 최초 역경매 시스템을 통하여 고객과 기사 둘 다 원하는 가격을
              제시, 상호간의 가격을 협상하여 목적지까지 합리적인 가격으로 이용
            </p>
            <i class="fa-solid fa-scale-balanced"></i>
          </li>
          <li>
            <h3>03</h3>
            <h4>택시 셔틀</h4>
            <p>
              기사들 서로 어플에 있는 채팅으로 소통하여 다 같이 원하는 목적지로
              한번에 이용해 불필요한 소비를 줄이고 시간 절약 가능
            </p>
            <i class="fa-solid fa-taxi"></i>
          </li>
        </ul>
      </section>
      <section class="con3">
        <ul>
          <li><img src="img/con4_phone.png" alt="전화 아이콘" /></li>
          <li>
            <h2>상세 매출 관리</h2>
            <h5>어플에서 직접 확인하는 실시간 상세 매출로 더 편리하게</h5>
            <p>
              <span>순수익</span> 상단에 순수익을 확인하여 기간별 매출 확인 가능
            </p>
            <p>
              <span>수수료</span> 타사 대비 절반 이상 적은 수수료로 높아지는
              이익
            </p>
            <p>
              <span>보험료</span> 산재보험, 고용보험, 운전자보험으로 안전 보장
            </p>
            <p>
              <span>매출관리</span> 자세하게 나눠져 있는 매출로 수익 확인 편리
              강조
            </p>
          </li>
        </ul>
      </section>
      <section class="con4">
        <ul>
          <li>
            <h2>승객 리워드 혜택</h2>
            <h5>다양하게 사용 가능한 리워드 제도로 누리는 혜택</h5>
            <p>
              <span>코인 증정</span>칠빵대리운전 어플 최초 가입 시 고객에게 코인
              증정
            </p>
            <p>
              <span>수수료</span> 운행 종료 후 가위바위보 게임 5라운드까지 승리
              시 적립
            </p>
            <p>
              <span>보험료</span> 운행 종료 후 매주 당첨자를 뽑아 금주 매출액의
              n%를 지급
            </p>
          </li>
          <li><img src="img/con5_app.jpg" alt="앱 이미지" /></li>
        </ul>
      </section>
      <section class="con5">
        <ul class="con5Sub">
          <li>
            <h2>기사 리워드 혜택</h2>
            <h5>
              기사가 서비스를 사용한 후 일정하게 리워드가 지급되며 현금처럼
              사용이 가능합니다.
            </h5>
          </li>
          <li>
            <ul class="con5Category">
              <li>
                <h3>코인 증정</h3>
                <h5>최초 가입 / 게임 승리 시</h5>
                <p>
                  최초 가입 시 기사에게 코인 증정 및 운행 종료 후 달팽이 게임
                  진행 시 최종 승리 후 적립 가능
                </p>
                <i class="fa-solid fa-coins"></i>
              </li>
              <li>
                <h3>마일리지 증정</h3>
                <h5>결제 / 인증 / 리뷰 / 게임</h5>
                <p>
                  사용자를 추천한 타 사용자가 운행 종료 시 최종 결제 금액의 2%를
                  적립 / 안전운행 인증 시 적립 / 리뷰 평점 1등 시 적립 / 달팽이
                  게임 승리 시 적립
                </p>
                <i class="fa-solid fa-ticket"></i>
              </li>
              <li>
                <h3>코인 구매 기능</h3>
                <h5>코인 사용 구매</h5>
                <p>
                  코인을 이용하여 대리운전 이용권 구매가 가능하며 칠빵과 연계된
                  포인트사에서 사용 가능
                </p>
                <i class="fa-solid fa-cart-shopping"></i>
              </li>
              <li>
                <h3>마일리지 인출</h3>
                <h5>마일리지 현금 인출 가능</h5>
                <p>
                  마일리지를 이용하여 대리운전 기사가 30,000p 이상 적립 시
                  현금으로 인출 가능
                </p>
                <i class="fa-solid fa-money-bills"></i>
              </li>
            </ul>
          </li>
        </ul>
      </section>
      <section class="con6">
        <h2>대리운전 이제는,<br />칠빵대리운전과 함께</h2>
        <p>
          칠빵 대리운전은 언제나 고객님의 안전을 최우선으로 생각하며, 믿을 수
          있는 전문가들이 책임지고 운행해드립니다. 술자리가 끝나고 귀가하시는
          길, 급히 집에 가야 할 때, 언제든지 저희에게 맡겨주세요. 신속하고
          안전한 서비스로 언제나 당신의 곁에 함께합니다.
        </p>
        <div class="button">Download App</div>
      </section>
    </div>
    <footer>
      <img src="img/logo_white.png" alt="칠빵대리운전 로고" />
      <ul class="fotSub">
        <li>
          <h5>서비스</h5>
          <p>공지사항</p>
          <p>Q & A</p>
          <p>고객센터</p>
        </li>
        <li>
          <h5>예원그룹 계열사</h5>
          <p>온오프코리아</p>
          <p>해피페이</p>
          <p>Englus</p>
          <p>휴먼큐레이팅</p>
          <p>mayday</p>
          <p>ginipick</p>
          <p>Global H</p>
          <p>백터하우스</p>
          <p>더케이</p>
          <p>GoldTree Global</p>
          <p>Dr. 마리앤스</p>
          <p>24익스프레스</p>
        </li>
        <li>
          <h5>문의</h5>
          <p>사업 제휴</p>
          <p>광고 문의</p>
          <p>기타 문의</p>
        </li>
        <li>
          <h5>고객센터</h5>
          <p>전화: 7777-0000</p>
          <p>민원 접수</p>
        </li>
      </ul>
      <ul class="fotSub2">
        <li>
          <h3>(주)칠빵대리운전</h3>
          <p>사업자등록번호 : 316-86-00743 | 대표 : 조현규</p>
          <p>
            호스팅 서비스 : 주식회사 칠빵모빌리티 | 서울특별시 강남구 선릉로
            90길 44 (정인빌딩)
          </p>
          <p>고객센터 : 7777-0000</p>
        </li>
        <li>
          <p>서비스 이용약관</p>
          <p>개인정보 처리방침</p>
          <p>이용자 보호 정책</p>
          <p>서울특별시 강남구</p>
          <p>지원 : 7777-0000</p>
        </li>
      </ul>
    </footer>
    <script src="js/index.js"></script>
    <script>
      $(document).ready(function () {
        // 디바이스 확인 함수
        function isTablet() {
          return window.innerWidth >= 768 && window.innerWidth <= 1023;
        }

        // 부드러운 스크롤 효과
        $('a[href^="#"]').on("click", function (e) {
          e.preventDefault();
          var target = this.hash;
          var $target = $(target);

          $("html, body").animate(
            {
              scrollTop: $target.offset().top,
            },
            1000,
            "easeInOutQuart"
          );
        });

        // 햄버거 메뉴 아이콘 가져오기
        const menuIcon = document.querySelector(".fa-bars");

        if (!menuIcon) {
          console.error("⚠️ '.fa-bars' 아이콘을 찾을 수 없음!");
          return;
        }

        menuIcon.addEventListener("click", function () {
          // 기존 모바일 메뉴 삭제 (중복 생성 방지)
          const existingMenu = document.querySelector(".mobile-menu");
          if (existingMenu) {
            existingMenu.remove();
          }

          // 새로운 모바일 메뉴 생성
          const mobileMenu = document.createElement("div");
          mobileMenu.className = "mobile-menu";

          // 태블릿 또는 모바일에 따라 스타일 조정 - 높이를 자동으로 변경
          const paddingTop = isTablet() ? "30px" : "20px";
          const menuBorderRadius = isTablet()
            ? "0 0 20px 20px"
            : "0 0 15px 15px";

          Object.assign(mobileMenu.style, {
            position: "fixed",
            top: "-100%", // 처음에는 화면 위로 숨겨둠
            left: "0",
            width: "100%",
            height: "auto", // 자동 높이 설정 - 콘텐츠에 맞게 조절됨
            minHeight: isTablet() ? "250px" : "200px", // 최소 높이 설정
            maxHeight: "90vh", // 최대 높이는 화면의 90%로 제한
            backgroundColor: "white",
            zIndex: "1000",
            display: "flex",
            flexDirection: "column",
            alignItems: "flex-start",
            paddingTop: paddingTop,
            paddingBottom: isTablet() ? "30px" : "20px", // 하단 패딩 추가
            boxSizing: "border-box",
            transition: "top 0.5s ease-in-out",
            boxShadow: "rgba(0, 0, 0, 0.15) 0px 10px 30px",
            borderRadius: menuBorderRadius,
            overflowY: "auto", // 세로 스크롤 허용
            overflowX: "hidden", // 가로 스크롤 방지
          });

          // 로고 및 전화번호 추가 (상단)
          const topSection = document.createElement("div");
          Object.assign(topSection.style, {
            width: "100%",
            display: "flex",
            alignItems: "center",
            justifyContent: "flex-start", // 왼쪽 정렬로 변경
            padding: isTablet() ? "15px 30px" : "10px 20px",
            position: "relative", // 상대적 위치 설정 추가
          });

          // 로고
          const logo = document.createElement("a");
          logo.href = "index.html";
          const logoImg = document.createElement("img");
          logoImg.src = "img/logo_color.png";
          logoImg.alt = "칠빵대리운전 로고";
          logoImg.style.height = isTablet() ? "50px" : "40px"; // 태블릿에서는 더 크게
          logo.style.display = "flex";
          logo.style.alignItems = "center";
          logo.appendChild(logoImg);

          // 전화번호 - 위치 유지
          const phoneNumber = document.createElement("div");
          phoneNumber.textContent = "7777-0000"; // 전화번호
          phoneNumber.style.fontSize = isTablet() ? "20px" : "16px";
          phoneNumber.style.fontWeight = "900";
          phoneNumber.style.color = "#006eff";
          phoneNumber.style.position = "absolute"; // 위치를 절대적으로 설정
          phoneNumber.style.top = isTablet() ? "55px" : "20px";
          phoneNumber.style.right = isTablet() ? "15vw" : "25vw";
          topSection.appendChild(logo);
          topSection.appendChild(phoneNumber);

          // 메뉴 리스트 생성
          const menuList = document.createElement("ul");
          Object.assign(menuList.style, {
            listStyle: "none",
            padding: "0",
            margin: isTablet() ? "40px 0" : "20px 0",
            width: "100%",
          });

          // 모바일 메뉴 아이템을 헤더의 메뉴와 일치시키고 페이지 연결
          const menuItems = [
            { name: "Home", url: "index.html" },
            { name: "About", url: "about.html" }, // 실제 About 페이지 URL로 교체 필요
            { name: "Notice", url: "notice.html" }, // 실제 Notice 페이지 URL로 교체 필요
            { name: "Customer Service", url: "service.html" }, // 실제 Customer Service 페이지 URL로 교체 필요
          ];

          menuItems.forEach((item, index) => {
            const li = document.createElement("li");
            const marginValue = isTablet() ? "20px 0" : "15px 0";
            const fontSize = isTablet() ? "24px" : "20px";
            const paddingLeft = isTablet() ? "40px" : "20px";

            Object.assign(li.style, {
              margin: marginValue,
              fontSize: fontSize,
              fontWeight: "bold",
              color: "#333",
              paddingLeft: paddingLeft,
              opacity: "0",
              transform: "translateY(-20px)", // 애니메이션을 위한 초기 상태
              transition: `opacity 0.5s ease-in-out ${
                index * 0.1 + 0.3
              }s, transform 0.5s ease-in-out ${index * 0.1 + 0.3}s`,
            });

            const link = document.createElement("a");
            Object.assign(link.style, {
              textDecoration: "none",
              color: "#333",
              display: "block",
              transition: "color 0.2s ease-in-out",
              width: "100%", // 전체 너비 사용
              padding: "5px 0", // 버튼 영역 확장
            });

            link.textContent = item.name;
            link.href = item.url;

            // 호버 효과
            link.addEventListener("mouseover", () => {
              link.style.color = "#006eff";
            });
            link.addEventListener("mouseleave", () => {
              link.style.color = "#333";
            });

            li.appendChild(link);
            menuList.appendChild(li);
          });

          // 닫기 버튼
          const closeButton = document.createElement("div");
          closeButton.innerHTML = '<i class="fa-solid fa-times"></i>';
          Object.assign(closeButton.style, {
            position: "absolute",
            top: isTablet() ? "30px" : "20px",
            right: isTablet() ? "30px" : "20px",
            fontSize: isTablet() ? "36px" : "30px",
            color: "#333",
            cursor: "pointer",
            transition: "transform 0.3s ease-in-out, color 0.3s ease-in-out",
          });

          closeButton.addEventListener("mouseover", () => {
            closeButton.style.transform = "rotate(180deg)";
            closeButton.style.color = "#006eff";
          });
          closeButton.addEventListener("mouseleave", () => {
            closeButton.style.transform = "rotate(0deg)";
            closeButton.style.color = "#333";
          });

          closeButton.addEventListener("click", function () {
            mobileMenu.style.top = "-100%"; // 위로 올라가면서 사라짐
            setTimeout(() => mobileMenu.remove(), 500);
          });

          // 요소 추가
          mobileMenu.appendChild(topSection); // 상단 로고 + 전화번호
          mobileMenu.appendChild(menuList); // 메뉴 리스트
          mobileMenu.appendChild(closeButton); // 닫기 버튼
          document.body.appendChild(mobileMenu);

          // 애니메이션 효과 적용 (메뉴 슬며시 내려옴)
          setTimeout(() => {
            mobileMenu.style.top = "0";
            menuList.querySelectorAll("li").forEach((li) => {
              li.style.opacity = "1";
              li.style.transform = "translateY(0)";
            });
          }, 10);
        });

        // 스크롤 이벤트 감지 - 태블릿에서 다른 트리거 포인트 적용
        $(window).scroll(function () {
          var windowHeight = $(window).height();
          var scrollTop = $(window).scrollTop();

          // 태블릿 모드에서는 더 빨리 애니메이션 시작
          const triggerFactor = isTablet() ? 0.7 : 0.8;

          // 각 섹션에 대한 애니메이션 적용
          animateSection("#visual", scrollTop, windowHeight, triggerFactor);
          animateSection(".con1", scrollTop, windowHeight, triggerFactor);
          animateSection(".con2", scrollTop, windowHeight, triggerFactor);
          animateSection(".con3", scrollTop, windowHeight, triggerFactor);
          animateSection(".con4", scrollTop, windowHeight, triggerFactor);
          animateSection(".con5", scrollTop, windowHeight, triggerFactor);
          animateSection(".con6", scrollTop, windowHeight, triggerFactor);

          // 섹션별 요소 애니메이션
          animateElements(scrollTop, windowHeight, triggerFactor);
        });

        // 섹션 애니메이션 함수
        function animateSection(
          selector,
          scrollTop,
          windowHeight,
          triggerFactor = 0.8
        ) {
          var $section = $(selector);
          if ($section.length === 0) return;

          var sectionTop = $section.offset().top;

          // 섹션이 화면에 나타날 때
          if (
            scrollTop + windowHeight * triggerFactor > sectionTop &&
            scrollTop < sectionTop + $section.height()
          ) {
            $section.addClass("visible");
          }
        }

        // 요소 애니메이션 함수
        function animateElements(scrollTop, windowHeight, triggerFactor = 0.8) {
          const tabletDelayFactor = isTablet() ? 1.2 : 1; // 태블릿에서는 더 긴 딜레이

          // visual 섹션 요소들
          animateElement(
            "#visual h2",
            scrollTop,
            windowHeight,
            300 * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            "#visual h5",
            scrollTop,
            windowHeight,
            500 * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            "#visual img",
            scrollTop,
            windowHeight,
            700 * tabletDelayFactor,
            triggerFactor
          );

          // con1 섹션 요소들
          animateElement(
            ".con1 h2",
            scrollTop,
            windowHeight,
            300 * tabletDelayFactor,
            triggerFactor
          );

          // con2 섹션 요소들
          animateElement(
            ".con2 h2",
            scrollTop,
            windowHeight,
            300 * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            ".con2 .con2P",
            scrollTop,
            windowHeight,
            500 * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            ".con2 ul li:nth-child(1)",
            scrollTop,
            windowHeight,
            700 * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            ".con2 ul li:nth-child(2)",
            scrollTop,
            windowHeight,
            900 * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            ".con2 ul li:nth-child(3)",
            scrollTop,
            windowHeight,
            1100 * tabletDelayFactor,
            triggerFactor
          );

          // con3 섹션 요소들
          animateElement(
            ".con3 h2",
            scrollTop,
            windowHeight,
            300 * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            ".con3 h5",
            scrollTop,
            windowHeight,
            500 * tabletDelayFactor,
            triggerFactor
          );
          $(".con3 p").each(function (index) {
            animateElement(
              this,
              scrollTop,
              windowHeight,
              (700 + index * 100) * tabletDelayFactor,
              triggerFactor
            );
          });
          animateElement(
            ".con3 img",
            scrollTop,
            windowHeight,
            900 * tabletDelayFactor,
            triggerFactor
          );

          // con4 섹션 요소들
          animateElement(
            ".con4 h2",
            scrollTop,
            windowHeight,
            300 * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            ".con4 h5",
            scrollTop,
            windowHeight,
            500 * tabletDelayFactor,
            triggerFactor
          );
          $(".con4 p").each(function (index) {
            animateElement(
              this,
              scrollTop,
              windowHeight,
              (700 + index * 100) * tabletDelayFactor,
              triggerFactor
            );
          });
          animateElement(
            ".con4 img",
            scrollTop,
            windowHeight,
            900 * tabletDelayFactor,
            triggerFactor
          );

          // con5 섹션 요소들
          animateElement(
            ".con5 h2",
            scrollTop,
            windowHeight,
            300 * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            ".con5 h5",
            scrollTop,
            windowHeight,
            500 * tabletDelayFactor,
            triggerFactor
          );

          // 태블릿에서는 카드가 순차적으로 나타나도록 약간의 추가 딜레이
          const categoryDelay = isTablet() ? 150 : 100;

          animateElement(
            ".con5Category li:nth-child(1)",
            scrollTop,
            windowHeight,
            700 * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            ".con5Category li:nth-child(2)",
            scrollTop,
            windowHeight,
            (700 + categoryDelay) * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            ".con5Category li:nth-child(3)",
            scrollTop,
            windowHeight,
            (700 + categoryDelay * 2) * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            ".con5Category li:nth-child(4)",
            scrollTop,
            windowHeight,
            (700 + categoryDelay * 3) * tabletDelayFactor,
            triggerFactor
          );

          // con6 섹션 요소들
          animateElement(
            ".con6 h2",
            scrollTop,
            windowHeight,
            300 * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            ".con6 p",
            scrollTop,
            windowHeight,
            500 * tabletDelayFactor,
            triggerFactor
          );
          animateElement(
            ".con6 .button",
            scrollTop,
            windowHeight,
            700 * tabletDelayFactor,
            triggerFactor
          );
        }

        // 개별 요소 애니메이션 함수 - 태블릿용 트리거 포인트 조정
        function animateElement(
          selector,
          scrollTop,
          windowHeight,
          delay,
          triggerFactor = 0.9
        ) {
          var $element = $(selector);
          if ($element.length === 0) return;

          var elementTop = $element.offset().top;

          // 태블릿 모드에서는 요소 표시 기준점을 더 위로 (화면에 빨리 나타나게)
          const activePoint = isTablet() ? triggerFactor - 0.1 : triggerFactor;

          // 요소가 화면에 나타날 때
          if (
            scrollTop + windowHeight * activePoint > elementTop &&
            !$element.hasClass("animated")
          ) {
            setTimeout(function () {
              // 태블릿 모드에서는 다른 애니메이션 클래스 추가 가능
              const animationClass = isTablet()
                ? "animated fadeIn"
                : "animated fadeIn";
              $element.addClass(animationClass);
            }, delay);
          }
        }

        // 페이지 로드 시 첫 번째 섹션은 바로 보이게 설정
        $("#visual").addClass("visible");
        $("#visual h2").addClass("animated fadeIn");
        $("#visual h5").addClass("animated fadeIn");
        $("#visual img").addClass("animated fadeIn");

        // 모든 요소에 애니메이션 적용 한번 실행 (페이지 로드 시)
        setTimeout(function () {
          $(window).trigger("scroll");
        }, 150); // 약간 더 긴 딜레이

        // 태블릿 환경에서 한 번 더 트리거 (안정성 향상)
        if (isTablet()) {
          setTimeout(function () {
            $(window).trigger("scroll");
          }, 500);
        }

        // 리사이즈 이벤트 발생 시 애니메이션 다시 적용
        $(window).on("resize", function () {
          setTimeout(function () {
            $(window).trigger("scroll");
          }, 200);
        });
      });
    </script>
  </body>
</html>
